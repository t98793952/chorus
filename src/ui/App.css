@tailwind base;
@tailwind components;
@tailwind utilities;

.sidebar-label {
    @apply text-[10px] uppercase tracking-wider font-geist-mono;
}

@font-face {
    font-family: "Geist";
    src: url("/fonts/Geist-VariableFont_wght.ttf") format("truetype-variations");
    font-weight: 300 700;
    font-display: swap;
}

@font-face {
    font-family: "Geist Mono";
    src: url("/fonts/GeistMono-VariableFont_wght.ttf")
        format("truetype-variations");
    font-weight: 300 700;
    font-display: swap;
}

@font-face {
    font-family: "Fira Code";
    src: url("/fonts/FiraCode-VariableFont_wght.ttf")
        format("truetype-variations");
    font-weight: 300 700;
    font-display: swap;
}

@font-face {
    font-family: "JetBrains Mono";
    src: url("/fonts/JetBrainsMono-VariableFont_wght.ttf")
        format("truetype-variations");
    font-weight: 300 700;
    font-display: swap;
}

@font-face {
    font-family: "Monaspace Krypton";
    src: url("/fonts/MonaspaceKryptonVarVF[wght,wdth,slnt].ttf")
        format("truetype-variations");
    font-weight: 300 700;
    font-display: swap;
}

@font-face {
    font-family: "Monaspace Neon";
    src: url("/fonts/MonaspaceNeonVarVF[wght,wdth,slnt].ttf")
        format("truetype-variations");
    font-weight: 300 700;
    font-display: swap;
}

@font-face {
    font-family: "Monaspace Xenon";
    src: url("/fonts/MonaspaceXenonVarVF[wght,wdth,slnt].ttf")
        format("truetype-variations");
    font-weight: 300 700;
    font-display: swap;
}

@layer base {
    * {
        @apply !border-border;
    }

    body {
        @apply bg-background text-foreground text-base;
        font-feature-settings:
            "rlig" 1,
            "calt" 1;
    }

    :root {
        --font-sans: "SF Pro", system-ui, sans-serif;
        --font-mono: "Geist Mono";
        --font-heading: var(--font-sans);
        --user-dot: 217 91% 75%;
    }

    kbd {
        @apply font-geist-mono text-[12px] ml-1 px-1 text-muted-foreground gap-0.5 flex items-center;
    }

    kbd span {
        @apply text-[16px] pt-0.5;
    }

    ::-webkit-scrollbar {
        width: 7px;
        height: 7px; /* matches SCROLLBAR_THICKNESS_PX in useScrollDetection.tsx */
    }

    ::-webkit-scrollbar-track {
        background: transparent;
    }

    ::-webkit-scrollbar-thumb {
        background: hsl(var(--foreground) / 0.2);
        border-radius: 5px;
    }

    ::-webkit-scrollbar-thumb:hover {
        background: hsl(var(--foreground));
    }
}

html,
body {
    overscroll-behavior: none;
    margin: 0;
    padding: 0;
    background: transparent;
}

@layer utilities {
    /* Hide scrollbar for Chrome, Safari and Opera */
    .no-scrollbar::-webkit-scrollbar {
        display: none;
    }
    /* Hide scrollbar for IE, Edge and Firefox */
    .no-scrollbar {
        -ms-overflow-style: none; /* IE and Edge */
        scrollbar-width: none; /* Firefox */
    }

    /* For webkit browsers like Chrome/Safari */
    .invisible-scrollbar::-webkit-scrollbar-thumb {
        background: transparent;
    }

    .invisible-scrollbar::-webkit-scrollbar {
        width: 7.5px; /* Keeps the space reserved plus a very small buffer */
        background: transparent;
    }

    .scrollbar-on-scroll::-webkit-scrollbar {
        opacity: 0;
        transition: opacity 0.2s ease;
    }

    .scrollbar-on-scroll.is-scrolling {
        /* needed to encourage -webkit-scrollbar appearance to update */
        transform: scale(1);
    }
    .scrollbar-on-scroll.is-scrolling::-webkit-scrollbar {
        opacity: 1;
    }
    .scrollbar-on-scroll.is-scrolling::-webkit-scrollbar-thumb:hover {
        opacity: 0.5;
    }

    /* once we upgrade to tailwind 4, we can use the focus-inset-shadow-sm class */
    .focus-inset-shadow-sm:focus {
        box-shadow: inset 0 2px 4px rgba(93, 48, 0, 0.1);
    }

    .hover-inset-shadow-xs:hover {
        box-shadow: inset 0 1px 2px rgba(93, 48, 0, 0.1);
    }
}

@keyframes synthesisPulse {
    0%,
    20% {
        transform: translateY(0) scale(1);
        opacity: 1;
    }
    80%,
    100% {
        transform: translateY(25px) scale(0.6);
        opacity: 0;
    }
}

@keyframes synthesisMerge {
    0%,
    30% {
        transform: translateX(-50%) scale(0.6);
        opacity: 0;
    }
    60%,
    80% {
        transform: translateX(-50%) scale(1.2);
        opacity: 1;
    }
    100% {
        transform: translateX(-50%) scale(1);
        opacity: 0.8;
    }
}

@keyframes shimmer {
    0% {
        background-position: 200% 0;
    }
    100% {
        background-position: -200% 0;
    }
}

.shimmer {
    background-image: linear-gradient(
        to right,
        hsl(30, 47%, 63%) 0%,
        hsl(var(--foreground)) 40%,
        hsl(30, 47%, 63%) 100%
    );
    background-size: 200% auto;
    background-clip: text;
    -webkit-background-clip: text; /* For Safari compatibility */
    -webkit-text-fill-color: transparent; /* For Safari compatibility */
    animation: shimmer 5s infinite linear;
}

.hover-shimmer:hover {
    background-image: linear-gradient(
        to right,
        hsl(var(--accent-600)) 0%,
        hsl(var(--muted-foreground)) 40%,
        hsl(var(--accent-600)) 100%
    );
    background-size: 200% auto;
    background-clip: text;
    -webkit-background-clip: text; /* For Safari compatibility */
    -webkit-text-fill-color: transparent; /* For Safari compatibility */
    animation: shimmer 5s infinite linear;
}

/*

Atom One Light by Daniel Gamage
Original One Light Syntax theme from https://github.com/atom/one-light-syntax

base:    #fafafa
mono-1:  #383a42
mono-2:  #686b77
mono-3:  #a0a1a7
hue-1:   #0184bb
hue-2:   #4078f2
hue-3:   #a626a4
hue-4:   #50a14f
hue-5:   #e45649
hue-5-2: #c91243
hue-6:   #986801
hue-6-2: #c18401

*/

html.light .hljs-container {
    background: #fafafa;
}

html.light .hljs {
    color: #383a42;
    background: #fafafa;
}

html.light .hljs-comment,
html.light .hljs-quote {
    color: #a0a1a7;
    font-style: italic;
}

html.light .hljs-doctag,
html.light .hljs-keyword,
html.light .hljs-formula {
    color: #a626a4;
}

html.light .hljs-section,
html.light .hljs-name,
html.light .hljs-selector-tag,
html.light .hljs-deletion,
html.light .hljs-subst {
    color: #e45649;
}

html.light .hljs-literal {
    color: #0184bb;
}

html.light .hljs-string,
html.light .hljs-regexp,
html.light .hljs-addition,
html.light .hljs-attribute,
html.light .hljs-meta .hljs-string {
    color: #50a14f;
}

html.light .hljs-attr,
html.light .hljs-variable,
html.light .hljs-template-variable,
html.light .hljs-type,
html.light .hljs-selector-class,
html.light .hljs-selector-attr,
html.light .hljs-selector-pseudo,
html.light .hljs-number {
    color: #986801;
}

html.light .hljs-symbol,
html.light .hljs-bullet,
html.light .hljs-link,
html.light .hljs-meta,
html.light .hljs-selector-id,
html.light .hljs-title {
    color: #4078f2;
}

html.light .hljs-built_in,
html.light .hljs-title.class_,
html.light .hljs-class .hljs-title {
    color: #c18401;
}

html.light .hljs-emphasis {
    font-style: italic;
}

html.light .hljs-strong {
    font-weight: bold;
}

html.light .hljs-link {
    text-decoration: underline;
}

/*

Atom One Dark by Daniel Gamage
Original One Dark Syntax theme from https://github.com/atom/one-dark-syntax

base:    #282c34
mono-1:  #abb2bf
mono-2:  #818896
mono-3:  #5c6370
hue-1:   #56b6c2
hue-2:   #61aeee
hue-3:   #c678dd
hue-4:   #98c379
hue-5:   #e06c75
hue-5-2: #be5046
hue-6:   #d19a66
hue-6-2: #e6c07b

*/

html.dark .hljs-container {
    background: #282c34;
}

html.dark .hljs {
    color: #abb2bf;
    background: #282c34;
}

html.dark .hljs-comment,
html.dark .hljs-quote {
    color: #5c6370;
    font-style: italic;
}

html.dark .hljs-doctag,
html.dark .hljs-keyword,
html.dark .hljs-formula {
    color: #c678dd;
}

html.dark .hljs-section,
html.dark .hljs-name,
html.dark .hljs-selector-tag,
html.dark .hljs-deletion,
html.dark .hljs-subst {
    color: #e06c75;
}

html.dark .hljs-literal {
    color: #56b6c2;
}

html.dark .hljs-string,
html.dark .hljs-regexp,
html.dark .hljs-addition,
html.dark .hljs-attribute,
html.dark .hljs-meta .hljs-string {
    color: #98c379;
}

html.dark .hljs-attr,
html.dark .hljs-variable,
html.dark .hljs-template-variable,
html.dark .hljs-type,
html.dark .hljs-selector-class,
html.dark .hljs-selector-attr,
html.dark .hljs-selector-pseudo,
html.dark .hljs-number {
    color: #d19a66;
}

html.dark .hljs-symbol,
html.dark .hljs-bullet,
html.dark .hljs-link,
html.dark .hljs-meta,
html.dark .hljs-selector-id,
html.dark .hljs-title {
    color: #61aeee;
}

html.dark .hljs-built_in,
html.dark .hljs-title.class_,
html.dark .hljs-class .hljs-title {
    color: #e6c07b;
}

html.dark .hljs-emphasis {
    font-style: italic;
}

html.dark .hljs-strong {
    font-weight: bold;
}

html.dark .hljs-link {
    text-decoration: underline;
}

/* Streaming text animation for smooth content updates */
@keyframes fadeInContent {
    from {
        opacity: 0.7;
    }
    to {
        opacity: 1;
    }
}

.streaming-content {
    animation: fadeInContent 0.15s ease-out;
}
